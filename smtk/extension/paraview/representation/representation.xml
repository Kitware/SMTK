<ServerManagerConfiguration>
  <ProxyGroup name="representations">
    <SMTKModelRepresentationProxy name="SMTKModelRepresentation"
      class="vtkSMTKModelRepresentation"
      processes="client|renderserver|dataserver">
      <Documentation>
        This specialized representation uses extended functionality of the
        composite mapper to better integrate with SMTKModel. Handles selection
        of SMTK Model entities.
      </Documentation>
      <IntVectorProperty command="SetVisibility"
                         default_values="1"
                         name="Visibility"
                         number_of_elements="1">
        <BooleanDomain name="bool" />
        <Documentation>Get/Set the visibility of the
        representation.</Documentation>
      </IntVectorProperty>
      <InputProperty command="SetInputConnection"
                     name="Input">
        <DataTypeDomain name="input_type">
          <DataType value="vtkDataSet"/>
        </DataTypeDomain>
          <Documentation>Model entity tessellations input. </Documentation>
      </InputProperty>
      <InputProperty command="SetInputConnection"
                     label="Glyph prototypes"
                     name="GlyphPrototypes"
                     panel_visibility="advanced"
                     port_index="1">
        <DataTypeDomain name="input_type">
          <DataType value="vtkDataObjectTree"/>
        </DataTypeDomain>
          <Documentation>Glyph vertices.</Documentation>
      </InputProperty>
      <InputProperty command="SetInputConnection"
                     label="Glyph points"
                     name="GlyphPoints"
                     panel_visibility="advanced"
                     port_index="2">
        <Documentation>Glyph source objects.</Documentation>
        <DataTypeDomain name="input_type">
          <DataType value="vtkPolyData" />
          <DataType value="vtkCompositeDataSet" />
        </DataTypeDomain>
        <Hints>
          <ProxyPropertyWidget selected_proxy_panel_visibility="advanced" />
          <!-- show the selected proxy's panel, only in advanced mode. -->
        </Hints>
      </InputProperty>
      <IntVectorProperty command="SetMapScalars"
                         default_values="0"
                         name="MapScalars"
                         number_of_elements="1">
        <BooleanDomain name="bool" />
        <Documentation>When set to True, LookupTable will always be
        used for scalar mapping. Otherwise, when up to 4 component
        scalars are present, the components are clamped to a valid
        color interval (0-255 for an integral type and 0.0-1.0 for a
        floating point type) and then directly used as
        color.</Documentation>
      </IntVectorProperty>
      <DoubleVectorProperty command="SetLineWidth"
                            default_values="1.0"
                            name="LineWidth"
                            number_of_elements="1">
        <DoubleRangeDomain min="0"
                           name="range" />
      </DoubleVectorProperty>
      <DoubleVectorProperty command="SetPointSize"
                            default_values="6.0"
                            name="PointSize"
                            number_of_elements="1">
        <DoubleRangeDomain min="0"
                           name="range" />
      </DoubleVectorProperty>
      <DoubleVectorProperty command="SetSelectionColor"
                            default_values="1.0 1.0 0.0"
                            name="Color"
                            number_of_elements="3"
                            panel_visibility="never">
        <DoubleRangeDomain max="1 1 1"
                           min="0 0 0"
                           name="range" />
      </DoubleVectorProperty>
      <DoubleVectorProperty command="SetSelectionPointSize"
                            default_values="8.0"
                            name="SelectionPointSize"
                            number_of_elements="1">
        <DoubleRangeDomain min="0"
                           name="range" />
      </DoubleVectorProperty>
      <DoubleVectorProperty command="SetSelectionLineWidth"
                            default_values="4.0"
                            name="SelectionLineWidth"
                            number_of_elements="1">
        <DoubleRangeDomain min="0"
                           name="range" />
      </DoubleVectorProperty>
      <IntVectorProperty name="BlockVisibility"
                         command="SetBlockVisibility"
                         clean_command="RemoveBlockVisibilities"
                         number_of_elements_per_command="2"
                         repeatable="1">
        <Documentation>
          Set the visibility for a block. Value is (property, visibility).
        </Documentation>
      </IntVectorProperty>
      <DoubleMapProperty name="BlockColor"
                         command="SetBlockColor"
                         clean_command="RemoveBlockColors"
                         number_of_components="3"
                         repeatable="1">
        <Documentation>
          Set the color for a block. Value is (index, r, g, b).
        </Documentation>
      </DoubleMapProperty>
      <DoubleMapProperty name="BlockOpacity"
                         command="SetBlockOpacity"
                         clean_command="RemoveBlockOpacities"
                         number_of_components="1"
                         repeatable="1">
        <Documentation>
          Set the opacity for a block. Value is (index, alpha).
        </Documentation>
      </DoubleMapProperty>
      <IntVectorProperty name="InstanceVisibility"
                         command="SetInstanceVisibility"
                         clean_command="RemoveInstanceVisibilities"
                         number_of_elements_per_command="2"
                         repeatable="1">
        <Documentation>
          Set the visibility for an instance point block (glyph). Value is
          (property, visibility).
        </Documentation>
      </IntVectorProperty>
      <DoubleMapProperty name="InstanceColor"
                         command="SetInstanceColor"
                         clean_command="RemoveInstanceColors"
                         number_of_components="3"
                         repeatable="1">
        <Documentation>
          Set the color for an instance point block (glyph). Value is (index, r, g, b).
        </Documentation>
      </DoubleMapProperty>

    <!-- End of SMTKModelRepresentation -->
    </SMTKModelRepresentationProxy>

    <Extension name="GeometryRepresentation">
      <Documentation>
        Extends standard GeometryRepresentation to serve as a SMTK model
        representation.
      </Documentation>

      <!-- This adds to what is already defined in PVRepresentationBase -->
      <RepresentationType subproxy="SMTKModelRepresentation"
        text="SMTK Model" subtype="Surface" />

      <SubProxy>
        <Proxy name="SMTKModelRepresentation"
          proxygroup="representations" proxyname="SMTKModelRepresentation">
        </Proxy>
        <ExposedProperties>
          <PropertyGroup label="SMTK Model Parameters"
                         panel_visibility="always">
            <Property name="GlyphPrototypes"
                      panel_visibility="always"/>
            <Property name="GlyphPoints"
                      panel_visibility="always"/>
          </PropertyGroup>
        </ExposedProperties>
      </SubProxy>
    </Extension>
  </ProxyGroup>
</ServerManagerConfiguration>
